<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cravory - Delicious Food, Delivered</title>

    <script src="https://cdn.tailwindcss.com/3.4.1"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: '#C0392B', 'primary-hover': '#E74C3C', 'primary-dark': '#A93226',
              accent: '#E67E22', 'accent-hover': '#D35400',
              'text-dark': '#4A3B3C', 'text-body': '#5D5354',
              'bg-light': '#FDF5E6', 'bg-card': '#FFFFFF', 'bg-footer': '#FAEBD7',
              'border-neutral': '#EAE0D5',
              secondary: '#4A90E2',
            },
            borderRadius: {
              'button': '9999px', 'card': '16px', 'input': '8px', 'panel': '12px',
              DEFAULT: '8px', 'lg': '16px', 'full': '9999px'
            },
            fontFamily: {
                sans: ['Inter', 'system-ui', '-apple-system', 'BlinkMacSystemFont', '"Segoe UI"', 'Roboto', '"Helvetica Neue"', 'Arial', '"Noto Sans"', 'sans-serif'],
                heading: ['Georgia', 'Times', 'Times New Roman', 'serif']
            },
            boxShadow: {
                'card': '0 4px 15px rgba(0,0,0,0.06)',
                'card-hover': '0 8px 25px rgba(0,0,0,0.1)',
                'panel': '0 10px 30px rgba(0,0,0,0.1)',
                 DEFAULT: '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)',
                 md: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)',
                 lg: '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1)',
                 xl: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)',
            }
          }
        }
      }
    </script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">

    <link rel="stylesheet" href="food.css">
    <link rel="stylesheet" href="style.css">

    <style>
        body {
            margin-top: 0 !important; 
            padding-top: 0 !important; 
            background-color: theme('colors.bg-light');
            color: theme('colors.text-body');
            font-family: theme('fontFamily.sans');
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        h1, h2, h3, h4, h5, h6 { font-family: theme('fontFamily.heading'); color: theme('colors.text-dark'); line-height: 1.3; }
        .cart-panel, .food-detail-modal { z-index: 1050; }
        .overlay { z-index: 1040; }
        .count-updated { animation: pulse 0.3s ease-out; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.3); } }
        .quantity-updated { animation: pulse-text 0.3s ease-out; }
        @keyframes pulse-text { 0%, 100% { color: inherit; } 50% { color: theme('colors.primary'); transform: scale(1.1); } }
        .hamburger .bar { transition: all 0.3s ease-in-out; }
        .hamburger.active .bar:nth-child(1) { transform: translateY(7px) rotate(45deg); }
        .hamburger.active .bar:nth-child(2) { opacity: 0; }
        .hamburger.active .bar:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }
        .mobile-nav-links { transition: max-height 0.4s ease-in-out, padding 0.4s ease-in-out; }
        .regions .regionvalue.active { background-color: theme('colors.primary'); color: white; border-color: theme('colors.primary'); }
        .cart-panel { transition: transform 0.3s ease-in-out; }
        .overlay { transition: opacity 0.3s ease-in-out; }
        .food-detail-modal { transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out; visibility: hidden; opacity: 0; }
        .food-detail-modal.flex { visibility: visible; } 
        .scrollbar-thin { scrollbar-width: thin; scrollbar-color: theme('colors.border-neutral') theme('colors.bg-light/50'); }
        .scrollbar-thin::-webkit-scrollbar { width: 6px; }
        .scrollbar-thin::-webkit-scrollbar-track { background: theme('colors.bg-light/50'); }
        .scrollbar-thin::-webkit-scrollbar-thumb { background-color: theme('colors.border-neutral'); border-radius: 3px; }
    </style>
</head>
<body class="antialiased">

    <nav class="bg-primary text-white shadow-lg sticky top-0 z-50">
      <div class="container mx-auto px-4 h-20 flex items-center justify-between">
        <a href="../index.html" class="flex items-center flex-shrink-0">
            <img src="BearCat.png.jpg" alt="Cravory Logo" class="h-10 w-10 mr-3 rounded-full object-cover border-2 border-white/60 shadow-sm">
            <h3 class="text-2xl font-heading font-bold tracking-tight">Cravory</h3>
        </a>

        <div class="hidden lg:flex flex-1 justify-center px-8">
            <div class="search-container relative w-full max-w-xl">
                <input type="text" id="searchInput" placeholder="Search for delicious cuisines..." class="w-full py-2.5 pl-12 pr-4 text-sm border border-transparent bg-white/15 text-white placeholder-gray-300 rounded-button focus:outline-none focus:bg-white/25 focus:ring-2 focus:ring-white/70 transition-all duration-200">
                <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-300"><i class="ri-search-line text-lg"></i></div>
            </div>
        </div>

        <div class="hidden lg:flex items-center space-x-5">
            <ul class="flex space-x-6 items-center">
              <li><a href="#" class="text-sm font-medium pb-1 border-b-2 border-transparent hover:border-white/70 transition-colors duration-200">Home</a></li>
              <li><a href="#Categories" class="text-sm font-medium pb-1 border-b-2 border-transparent hover:border-white/70 transition-colors duration-200">Categories</a></li>
              <li><a href="#Menu" class="text-sm font-medium pb-1 border-b-2 border-transparent hover:border-white/70 transition-colors duration-200">Menu</a></li>
              <li><a href="#contact" class="text-sm font-medium pb-1 border-b-2 border-transparent hover:border-white/70 transition-colors duration-200">Contact</a></li>
            </ul>
            <div class="border-l border-white/30 h-6"></div>
            <div class="flex items-center space-x-4">
                  <a href="../login-page/login.html" class="btn btn-outline-danger logout-button">
                 <i class="fas fa-sign-out-alt"></i> Logout
             </a>
             <a href="../store-setup-page/index.html" class="btn btn-outline-danger logout-button">
                <i class="fas fa-sign-out-alt"></i> Manage Store
            </a>
                <div class="relative group">
                    <button class="flex items-center hover:text-amber-300 focus:outline-none text-sm"><i class="ri-global-line text-lg"></i><span class="ml-1">EN</span><i class="ri-arrow-down-s-line text-base ml-0.5 transition-transform group-hover:rotate-180"></i></button>
                    <div class="absolute right-0 mt-2 w-32 bg-white rounded-md shadow-lg py-1 z-20 hidden group-hover:block transition duration-150 ease-out transform opacity-0 group-hover:opacity-100 scale-95 group-hover:scale-100">
                        <a href="#" lang="en" class="block px-4 py-2 text-xs text-text-dark hover:bg-bg-light font-semibold">English</a>
                        <a href="#" lang="fil" class="block px-4 py-2 text-xs text-text-dark hover:bg-bg-light">Filipino</a>
                        <a href="#" lang="ja" class="block px-4 py-2 text-xs text-text-dark hover:bg-bg-light">Japanese</a>
                    </div>
                </div>
                <button id="cartToggle" class="relative flex items-center hover:text-amber-300">
                    <i class="ri-shopping-cart-line text-2xl"></i>
                    <span id="cart-count-badge" class="absolute -top-1.5 -right-1.5 bg-accent text-white text-[10px] w-4.5 h-4.5 flex items-center justify-center rounded-full font-bold border border-primary">0</span>
                </button>
            </div>
        </div>

        <div class="lg:hidden flex items-center">
            <button id="mobileCartToggle" class="relative flex items-center hover:text-amber-300 mr-3">
                <i class="ri-shopping-cart-line text-2xl"></i>
                <span id="mobile-cart-count-badge" class="absolute -top-1.5 -right-1.5 bg-accent text-white text-[10px] w-4.5 h-4.5 flex items-center justify-center rounded-full font-bold border border-primary">0</span>
            </button>
            <div class="hamburger cursor-pointer space-y-1.5">
                <div class="bar h-0.5 w-6 bg-white rounded"></div>
                <div class="bar h-0.5 w-6 bg-white rounded"></div>
                <div class="bar h-0.5 w-6 bg-white rounded"></div>
            </div>
        </div>
      </div>

      <div class="lg:hidden px-4 pb-4">
           <div class="search-container relative w-full">
              <input type="text" id="mobileSearchInput" placeholder="Search delicacies..." class="w-full py-2.5 pl-11 pr-4 text-sm border border-transparent bg-white/15 text-white placeholder-gray-300 rounded-button focus:outline-none focus:bg-white/25 focus:ring-2 focus:ring-white/70 transition-colors">
              <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-300"><i class="ri-search-line text-lg"></i></div>
          </div>
      </div>

      <div id="mobileNavLinks" class="mobile-nav-links lg:hidden absolute top-full left-0 w-full bg-primary-dark shadow-lg max-h-0 overflow-hidden">
        <ul class="flex flex-col">
          <li><a href="#" class="block px-6 py-3 text-white hover:bg-primary transition-colors font-medium">Home</a></li>
          <li><a href="#Categories" class="block px-6 py-3 text-white hover:bg-primary transition-colors font-medium">Categories</a></li>
          <li><a href="#Menu" class="block px-6 py-3 text-white hover:bg-primary transition-colors font-medium">Menu</a></li>
          <li><a href="#contact" class="block px-6 py-3 text-white hover:bg-primary transition-colors font-medium">Contact</a></li>
          <li class="p-4"><a href="#" class="block bg-accent hover:bg-accent-hover transition-colors text-white text-center rounded-button py-3 font-semibold">Login</a></li>
        </ul>
      </div>
    </nav>

    <section class="relative bg-cover bg-center py-28 md:py-48" style="background-image: url('https://readdy.ai/api/search-image?query=warm%20inviting%20global%20food%20spread%2C%20dishes%20from%20different%20cultures%20on%20rustic%20table%2C%20soft%20focused%20background%2C%20cinematic%20lighting%2C%20bokeh%20lights&width=1920&height=700&seq=hero4&orientation=landscape');">
        <div class="absolute inset-0 bg-gradient-to-t from-black/75 via-black/50 to-transparent"></div>
        <div class="container mx-auto px-4 relative z-10 text-center">
            <h1 class="text-4xl sm:text-5xl lg:text-6xl font-heading font-bold text-white mb-6 leading-tight drop-shadow-lg">Taste the World,<br>One Bite at a Time</h1>
            <p class="text-lg md:text-xl text-gray-200 mb-10 max-w-3xl mx-auto leading-relaxed drop-shadow-sm">Explore unique, handcrafted foods from passionate local chefs worldwide, delivered fresh to you.</p>
            <div class="flex flex-col sm:flex-row justify-center items-center gap-4">
                <button class="bg-primary text-white px-10 py-3.5 font-medium rounded-button text-base md:text-lg hover:bg-primary-hover transition duration-300 shadow-lg transform hover:scale-105 ease-out">Explore Cuisines</button>
                <button class="bg-white/90 backdrop-blur-sm text-text-dark px-10 py-3.5 font-medium rounded-button text-base md:text-lg hover:bg-white transition duration-300 shadow-lg transform hover:scale-105 ease-out">How It Works</button>
            </div>
        </div>
    </section>

    <section id="Categories" class="py-16 md:py-20 bg-white/60 backdrop-blur-sm border-y border-border-neutral/70">
         <div class="container mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-heading font-semibold text-center mb-10 md:mb-14 text-text-dark">Filter by Category</h2>
            <div class="regions flex flex-wrap justify-center gap-3 md:gap-4" id="regionSelect">
                <span data-value="all" class="regionvalue cursor-pointer px-5 py-2 text-sm font-medium rounded-button border border-border-neutral bg-white text-text-body shadow-sm hover:shadow-md hover:border-primary hover:bg-primary hover:text-white transition-all duration-200 active">All</span>
                <span data-value="meat" class="regionvalue cursor-pointer px-5 py-2 text-sm font-medium rounded-button border border-border-neutral bg-white text-text-body shadow-sm hover:shadow-md hover:border-primary hover:bg-primary hover:text-white transition-all duration-200">Meats</span>
                <span data-value="dessert" class="regionvalue cursor-pointer px-5 py-2 text-sm font-medium rounded-button border border-border-neutral bg-white text-text-body shadow-sm hover:shadow-md hover:border-primary hover:bg-primary hover:text-white transition-all duration-200">Desserts</span>
                <span data-value="seafood" class="regionvalue cursor-pointer px-5 py-2 text-sm font-medium rounded-button border border-border-neutral bg-white text-text-body shadow-sm hover:shadow-md hover:border-primary hover:bg-primary hover:text-white transition-all duration-200">Seafood</span>
                <span data-value="vegetarian" class="regionvalue cursor-pointer px-5 py-2 text-sm font-medium rounded-button border border-border-neutral bg-white text-text-body shadow-sm hover:shadow-md hover:border-primary hover:bg-primary hover:text-white transition-all duration-200">Vegetarian</span>
                <span data-value="curry" class="regionvalue cursor-pointer px-5 py-2 text-sm font-medium rounded-button border border-border-neutral bg-white text-text-body shadow-sm hover:shadow-md hover:border-primary hover:bg-primary hover:text-white transition-all duration-200">Curry</span>
                <span data-value="pasta" class="regionvalue cursor-pointer px-5 py-2 text-sm font-medium rounded-button border border-border-neutral bg-white text-text-body shadow-sm hover:shadow-md hover:border-primary hover:bg-primary hover:text-white transition-all duration-200">Pasta</span>
                <span data-value="soup" class="regionvalue cursor-pointer px-5 py-2 text-sm font-medium rounded-button border border-border-neutral bg-white text-text-body shadow-sm hover:shadow-md hover:border-primary hover:bg-primary hover:text-white transition-all duration-200">Soup</span>
            </div>
        </div>
    </section>

    <main id="Menu" class="container mx-auto px-4 py-16 md:py-24">
        <h2 class="text-3xl md:text-4xl font-heading font-semibold text-center mb-10 md:mb-14 text-text-dark">Our Culinary Collection</h2>
        <div id="foodGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8">

             <div class="food-item bg-bg-card rounded-card shadow-card overflow-hidden group hover:shadow-card-hover transition-all duration-300 flex flex-col transform hover:-translate-y-1"
                 data-id="sushi-01" data-name="Sushi Platter" data-price="42.99" data-image="../admin/img/sushi.jpg" data-description="Authentic assortment of fresh nigiri and maki rolls." data-vendor="Sakura Kitchen" data-rating="4.5" data-reviews="128" data-country="Japan" data-country-img="https://readdy.ai/api/search-image?query=Japanese%20flag%20icon%2C%20simple%20flat%20design&width=20&height=20&seq=flag1&orientation=squarish" data-category="seafood">
                <div class="relative h-52 overflow-hidden">
                    <img src="../admin/img/sushi.jpg" alt="Sushi Platter" class="w-full h-full object-cover object-center transition-transform duration-300 ease-out group-hover:scale-105">
                    <div class="absolute top-3 left-3 bg-accent text-white text-[11px] px-2.5 py-0.5 rounded-full font-semibold shadow">Top Rated</div>
                    <div class="absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-black/40 to-transparent pointer-events-none"></div>
                    <img src="https://readdy.ai/api/search-image?query=Japanese%20flag%20icon%2C%20simple%20flat%20design&width=20&height=20&seq=flag1&orientation=squarish" alt="Japan" title="Japan" class="absolute bottom-3 right-3 w-6 h-6 rounded-full border-2 border-white shadow-sm">
                </div>
                <div class="p-5 flex flex-col flex-grow">
                    <h3 class="font-semibold text-lg text-text-dark item-name leading-snug mb-1 line-clamp-2">Sushi Platter</h3>
                    <p class="text-xs text-gray-500 mb-3 item-vendor">By Sakura Kitchen</p>
                    <p class="text-sm text-text-body mb-4 flex-grow item-description leading-relaxed line-clamp-3">Authentic assortment of fresh nigiri and maki rolls prepared by a master chef.</p>
                    <div class="flex justify-between items-center mb-4">
                        <div class="flex items-center text-amber-500 text-sm">
                            <i class="ri-star-s-fill"></i><i class="ri-star-s-fill"></i><i class="ri-star-s-fill"></i><i class="ri-star-s-fill"></i><i class="ri-star-half-s-line"></i>
                            <span class="text-text-body ml-1.5 text-xs"> (128)</span>
                        </div>
                        <span class="font-bold text-lg text-primary item-price">42.99php</span>
                    </div>
                    <div class="mt-auto pt-4 border-t border-border-neutral/60">
                        <button class="add-to-cart-btn bg-primary text-white w-full py-2.5 font-medium rounded-button hover:bg-primary-hover transition duration-300 text-sm shadow-sm hover:shadow-md transform hover:-translate-y-0.5 ease-out">Add to Cart</button>
                    </div>
                </div>
            </div>
            <!-- Butter Chicken Card -->
            <div class="food-item bg-bg-card rounded-card shadow-card overflow-hidden group hover:shadow-card-hover transition-all duration-300 flex flex-col transform hover:-translate-y-1" data-id="chicken-01" data-name="Butter Chicken" data-price="50.00" data-image="../admin/img/butterchickenwnaan.jpg" data-description="Tender chicken in a rich, creamy tomato sauce." data-vendor="Spice Route" data-rating="4.0" data-reviews="95" data-country="India" data-country-img="https://readdy.ai/api/search-image?query=Indian%20flag%20icon%2C%20simple%20flat%20design&width=20&height=20&seq=flag2&orientation=squarish" data-category="meat curry">
                 <div class="relative h-52 overflow-hidden">
                    <img src="../admin/img/butterchickenwnaan.jpg" alt="Butter Chicken" class="w-full h-full object-cover object-center transition-transform duration-300 ease-out group-hover:scale-105">
                    <div class="absolute top-3 left-3 bg-primary-dark text-white text-[11px] px-2.5 py-0.5 rounded-full font-semibold shadow-sm">Popular</div>
                     <div class="absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-black/40 to-transparent pointer-events-none"></div>
                    <img src="https://readdy.ai/api/search-image?query=Indian%20flag%20icon%2C%20simple%20flat%20design&width=20&height=20&seq=flag2&orientation=squarish" alt="India" title="India" class="absolute bottom-3 right-3 w-6 h-6 rounded-full border-2 border-white shadow-sm">
                </div>
                 <div class="p-5 flex flex-col flex-grow">
                    <h3 class="font-semibold text-lg text-text-dark item-name leading-snug mb-1 line-clamp-2">Butter Chicken w/ Naan</h3>
                    <p class="text-xs text-gray-500 mb-3 item-vendor">By Spice Route</p>
                    <p class="text-sm text-text-body mb-4 flex-grow item-description leading-relaxed line-clamp-3">Tender chicken simmered in a rich, creamy, spiced tomato sauce.</p>
                    <div class="flex justify-between items-center mb-4">
                        <div class="flex items-center text-amber-500 text-sm">
                             <i class="ri-star-s-fill"></i><i class="ri-star-s-fill"></i><i class="ri-star-s-fill"></i><i class="ri-star-s-fill"></i><i class="ri-star-s-line text-gray-300"></i>
                            <span class="text-text-body ml-1.5 text-xs">(95)</span>
                        </div>
                        <span class="font-bold text-lg text-primary item-price">50.00php</span>
                    </div>
                    <div class="mt-auto pt-4 border-t border-border-neutral/60">
                        <button class="add-to-cart-btn bg-primary text-white w-full py-2.5 font-medium rounded-button hover:bg-primary-hover transition duration-300 text-sm shadow-sm hover:shadow-md transform hover:-translate-y-0.5 ease-out">Add to Cart</button>
                    </div>
                </div>
            </div>
            <!-- Carbonara Card -->
             <div class="food-item bg-bg-card rounded-card shadow-card overflow-hidden group hover:shadow-card-hover transition-all duration-300 flex flex-col transform hover:-translate-y-1" data-id="pasta-01" data-name="Pasta Carbonara" data-price="40.50" data-image="Creamy Chicken Carbonara Recipe.jpg" data-description="Traditional Roman pasta with crispy pancetta, egg, pecorino." data-vendor="Nonna's Kitchen" data-rating="5.0" data-reviews="42" data-country="Italy" data-country-img="Flag of Italy - Wikipedia.jpg" data-category="pasta meat">
                 <div class="relative h-52 overflow-hidden">
                    <img src="Creamy Chicken Carbonara Recipe.jpg" alt="Pasta Carbonara" class="w-full h-full object-cover object-center transition-transform duration-300 ease-out group-hover:scale-105">
                    <div class="absolute top-3 left-3 bg-green-600 text-white text-[11px] px-2.5 py-0.5 rounded-full font-semibold shadow-sm">New</div>
                    <div class="absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-black/40 to-transparent pointer-events-none"></div>
                    <img src="Flag of Italy - Wikipedia.jpg" alt="Italy" title="Italy" class="absolute bottom-3 right-3 w-6 h-6 rounded-full border-2 border-white shadow-sm">
                </div>
                <div class="p-5 flex flex-col flex-grow">
                    <h3 class="font-semibold text-lg text-text-dark item-name leading-snug mb-1 line-clamp-2">Authentic Carbonara</h3>
                     <p class="text-xs text-gray-500 mb-3 item-vendor">By Nonna's Kitchen</p>
                    <p class="text-sm text-text-body mb-4 flex-grow item-description leading-relaxed line-clamp-3">Classic Roman pasta: crispy pancetta, rich egg yolk, Pecorino Romano, black pepper.</p>
                    <div class="flex justify-between items-center mb-4">
                        <div class="flex items-center text-amber-500 text-sm">
                             <i class="ri-star-s-fill"></i><i class="ri-star-s-fill"></i><i class="ri-star-s-fill"></i><i class="ri-star-s-fill"></i><i class="ri-star-s-fill"></i>
                             <span class="text-text-body ml-1.5 text-xs">(42)</span>
                        </div>
                        <span class="font-bold text-lg text-primary item-price">40.50php</span>
                    </div>
                    <div class="mt-auto pt-4 border-t border-border-neutral/60">
                        <button class="add-to-cart-btn bg-primary text-white w-full py-2.5 font-medium rounded-button hover:bg-primary-hover transition duration-300 text-sm shadow-sm hover:shadow-md transform hover:-translate-y-0.5 ease-out">Add to Cart</button>
                    </div>
                </div>
            </div>
            <!-- Gimbap Card -->
            <div class="food-item bg-bg-card rounded-card shadow-card overflow-hidden group hover:shadow-card-hover transition-all duration-300 flex flex-col transform hover:-translate-y-1" data-id="gimbap-01" data-name="Gimbap Rolls" data-price="35.75" data-image="Gimbap (Korean Seaweed Rice Rolls) _ Sift & Simmer.jpg" data-description="Flavorful Korean seaweed rice rolls filled with fresh vegetables and choice of protein." data-vendor="Seoul Bites" data-rating="4.3" data-reviews="61" data-country="Korea" data-country-img="South Korea.jpg" data-category="vegetarian meat">
                 <div class="relative h-52 overflow-hidden">
                    <img src="Gimbap (Korean Seaweed Rice Rolls) _ Sift & Simmer.jpg" alt="Gimbap Rolls" class="w-full h-full object-cover object-center transition-transform duration-300 ease-out group-hover:scale-105">
                    <div class="absolute top-3 left-3 bg-primary-dark text-white text-[11px] px-2.5 py-0.5 rounded-full font-semibold shadow-sm">Popular</div>
                    <div class="absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-black/40 to-transparent pointer-events-none"></div>
                    <img src="South Korea.jpg" alt="Korea" title="South Korea" class="absolute bottom-3 right-3 w-6 h-6 rounded-full border-2 border-white shadow-sm">
                </div>
                <div class="p-5 flex flex-col flex-grow">
                    <h3 class="font-semibold text-lg text-text-dark item-name leading-snug mb-1 line-clamp-2">Gimbap Rolls</h3>
                    <p class="text-xs text-gray-500 mb-3 item-vendor">By Seoul Bites</p>
                    <p class="text-sm text-text-body mb-4 flex-grow item-description leading-relaxed line-clamp-3">Flavorful Korean seaweed rice rolls packed with fresh vegetables and fillings.</p>
                    <div class="flex justify-between items-center mb-4">
                        <div class="flex items-center text-amber-500 text-sm">
                            <i class="ri-star-s-fill"></i><i class="ri-star-s-fill"></i><i class="ri-star-s-fill"></i><i class="ri-star-s-fill"></i><i class="ri-star-half-s-line"></i>
                            <span class="text-text-body ml-1.5 text-xs">(61)</span>
                        </div>
                        <span class="font-bold text-lg text-primary item-price">35.75php</span>
                    </div>
                    <div class="mt-auto pt-4 border-t border-border-neutral/60">
                        <button class="add-to-cart-btn bg-primary text-white w-full py-2.5 font-medium rounded-button hover:bg-primary-hover transition duration-300 text-sm shadow-sm hover:shadow-md transform hover:-translate-y-0.5 ease-out">Add to Cart</button>
                    </div>
                </div>
            </div>
            <!-- Add the rest of your food item cards here -->

        </div> <!-- End Food Grid -->

        <!-- Pagination -->
        <div class="mt-16 flex justify-center">
             <div class="flex items-center space-x-1">
                <button class="w-9 h-9 flex items-center justify-center text-text-body/70 hover:text-primary rounded-full hover:bg-primary/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors" disabled><i class="ri-arrow-left-s-line text-xl"></i></button>
                <button class="w-9 h-9 text-sm bg-primary text-white rounded-full font-medium flex items-center justify-center shadow-sm">1</button>
                <button class="w-9 h-9 text-sm text-text-body hover:bg-primary/10 rounded-full transition-colors flex items-center justify-center">2</button>
                <button class="w-9 h-9 text-sm text-text-body hover:bg-primary/10 rounded-full transition-colors flex items-center justify-center">3</button>
                <span class="px-2 text-text-body/70 text-sm">...</span>
                <button class="w-9 h-9 text-sm text-text-body hover:bg-primary/10 rounded-full transition-colors flex items-center justify-center">8</button>
                <button class="w-9 h-9 flex items-center justify-center text-text-body/70 hover:text-primary rounded-full hover:bg-primary/10 transition-colors"><i class="ri-arrow-right-s-line text-xl"></i></button>
            </div>
        </div>
    </main>

    <!-- Cart Panel -->
    <div id="cartPanel" class="cart-panel fixed top-0 right-0 h-full w-full sm:w-96 md:w-[450px] bg-bg-card shadow-panel transform translate-x-full transition-transform duration-300 ease-in-out flex flex-col rounded-l-panel">
        <div class="p-5 border-b border-border-neutral flex items-center justify-between flex-shrink-0 bg-gray-50/80 backdrop-blur-sm rounded-tl-panel">
            <h2 class="font-heading font-semibold text-xl text-text-dark">Your Cart (<span id="cart-item-count">0</span>)</h2>
            <button id="closeCart" class="text-text-body hover:text-primary transition-colors rounded-full p-1 -mr-2"><i class="ri-close-circle-line text-3xl"></i></button>
        </div>
        <div id="cartItemsContainer" class="flex-1 overflow-y-auto p-5 space-y-5 scrollbar-thin">
             <div id="emptyCartMessage" class="flex flex-col items-center justify-center h-full text-center text-text-body pt-16">
                 <i class="ri-shopping-cart-line text-7xl text-gray-300 mb-5"></i>
                 <p class="font-medium text-lg mb-2">Your cart is empty</p>
                 <p class="text-sm">Looks like you haven't added anything yet!</p>
             </div>
        </div>
        <div id="cartFooter" class="p-5 border-t border-border-neutral bg-gray-50/80 backdrop-blur-sm flex-shrink-0 rounded-bl-panel">
            <div class="space-y-2.5 mb-5 text-sm">
                <div class="flex justify-between"><span>Subtotal</span><span id="cartSubtotal" class="font-medium text-text-dark">0.00php</span></div>
                <div class="flex justify-between"><span>Delivery Fee</span><span id="cartDelivery" class="font-medium text-text-dark">0.00php</span></div>
                <div class="flex justify-between"><span>Tax (9%)</span><span id="cartTax" class="font-medium text-text-dark">0.00php</span></div>
                <div class="border-t border-border-neutral pt-3 mt-3 flex justify-between text-lg">
                    <span class="font-semibold text-text-dark">Total</span><span id="cartTotal" class="font-bold text-primary">0.00php</span>
                </div>
            </div>
            <div class="flex flex-col space-y-3">
                 <a href="checkout.html" class="checkout-button-link block bg-primary text-white py-3 font-semibold rounded-button w-full text-center hover:bg-primary-hover transition duration-300 text-base shadow-md disabled:opacity-50 disabled:cursor-not-allowed" id="checkoutButtonWrapper">Proceed to Checkout</a>
                <button id="continueShopping" class="border border-border-neutral text-text-dark py-3 font-medium rounded-button w-full hover:bg-gray-100 transition duration-200 text-base">Continue Shopping</button>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div id="overlay" class="overlay fixed inset-0 bg-black/60 hidden opacity-0 backdrop-blur-sm"></div>

    <!-- Food Detail Modal -->
    <div id="foodDetailModal" class="food-detail-modal fixed inset-0 hidden items-center justify-center p-4 opacity-0">
        <div class="bg-bg-card rounded-panel shadow-panel w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col">
            <div class="p-5 border-b border-border-neutral flex justify-between items-center flex-shrink-0 bg-gray-50/80 backdrop-blur-sm rounded-t-panel">
                <h2 id="modalFoodName" class="font-heading font-semibold text-xl text-text-dark">Food Item Name</h2>
                <button id="closeModal" class="text-text-body hover:text-primary transition-colors rounded-full p-1 -mr-2"><i class="ri-close-circle-line text-3xl"></i></button>
            </div>
            <div class="flex-1 overflow-y-auto scrollbar-thin">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 p-6">
                    <div>
                        <div class="rounded-lg overflow-hidden mb-4 border border-border-neutral shadow-sm aspect-w-4 aspect-h-3">
                            <img id="modalMainImage" src="" alt="Food Item" class="w-full h-full object-cover">
                        </div>
                         <div id="modalThumbnails" class="hidden grid-cols-4 gap-2"></div>
                    </div>
                    <div>
                        <div class="flex flex-wrap items-center mb-4 gap-x-4 gap-y-2">
                            <div id="modalRating" class="flex items-center text-amber-500"></div>
                            <div class="flex items-center text-sm text-text-body">
                                <img id="modalCountryFlag" src="" alt="" class="w-5 h-5 rounded-full mr-2 border border-gray-200">
                                <span id="modalCountryName"></span>
                            </div>
                        </div>
                        <div class="mb-5">
                           <h3 id="modalPrice" class="font-heading font-bold text-4xl text-primary">0.00php</h3>
                        </div>
                        <div class="mb-6">
                            <h4 class="font-semibold mb-1.5 text-text-dark text-lg">Description</h4>
                            <p id="modalDescription" class="text-sm text-text-body leading-relaxed">Item description goes here...</p>
                        </div>
                         <div class="mb-6 hidden" id="modalIngredientsSection">
                            <h4 class="font-semibold mb-1.5 text-text-dark text-lg">Ingredients</h4>
                            <p id="modalIngredients" class="text-sm text-text-body leading-relaxed"></p>
                        </div>
                        <div class="mb-6">
                            <h4 class="font-semibold mb-2 text-text-dark text-lg">Vendor</h4>
                            <div class="flex items-center">
                                <div class="w-10 h-10 bg-gray-100 rounded-full overflow-hidden flex-shrink-0 mr-3 border border-border-neutral flex items-center justify-center">
                                     <i class="ri-store-2-line text-2xl text-gray-400"></i>
                                </div>
                                <div><h5 id="modalVendorName" class="font-medium text-text-dark">Vendor Name</h5></div>
                            </div>
                        </div>
                        <div class="flex items-stretch space-x-4">
                            <div class="flex items-center border border-border-neutral rounded-lg">
                                <button id="modalDecrementQty" class="px-4 py-3 text-text-body hover:text-primary disabled:opacity-50 transition-colors rounded-l-lg"><i class="ri-subtract-line"></i></button>
                                <span id="modalQuantity" class="px-5 text-base font-medium text-text-dark border-l border-r border-border-neutral py-3 min-w-[50px] text-center">1</span>
                                <button id="modalIncrementQty" class="px-4 py-3 text-text-body hover:text-primary transition-colors rounded-r-lg"><i class="ri-add-line"></i></button>
                            </div>
                            <button id="modalAddToCartBtn" class="bg-primary text-white px-6 py-3 font-medium flex-1 rounded-button hover:bg-primary-hover transition duration-300 text-base shadow-md transform hover:scale-105 ease-out">Add to Cart</button>
                        </div>
                    </div>
                </div>
                 <div class="p-6 border-t border-border-neutral bg-gray-50/50 hidden">
                    <h3 class="font-semibold text-lg mb-4 text-text-dark">You May Also Like</h3>
                    <div id="modalRelatedItems" class="grid grid-cols-2 md:grid-cols-4 gap-4"></div>
                 </div>
            </div>
        </div>
    </div>

    <footer id="contact" class="bg-bg-footer border-t-4 border-primary pt-16 pb-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 md:gap-12">
                <div class="footer-column">
                    <h3 class="text-2xl font-heading font-bold text-primary mb-4">Cravory</h3>
                    <p class="text-sm leading-relaxed text-text-body/90">Delivering deliciousness to your doorstep. Experience global flavors, locally sourced.</p>
                </div>
                <div class="footer-column">
                    <h3 class="text-lg font-semibold text-text-dark mb-5">Contact Us</h3>
                    <ul class="space-y-3 text-sm">
                        <li class="flex items-start"><i class="ri-mail-send-line mr-2 text-primary mt-1 flex-shrink-0"></i><span>support@cravory.com</span></li>
                        <li class="flex items-start"><i class="ri-phone-line mr-2 text-primary mt-1 flex-shrink-0"></i><span>(123) 456-7890</span></li>
                        <li class="flex items-start"><i class="ri-map-pin-2-line mr-2 text-primary mt-1 flex-shrink-0"></i><span>123 Foodie Lane, Flavor Town</span></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3 class="text-lg font-semibold text-text-dark mb-5">Quick Links</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#Menu" class="hover:text-primary transition-colors duration-200">Menu</a></li>
                        <li><a href="#Categories" class="hover:text-primary transition-colors duration-200">Categories</a></li>
                        <li><a href="#" class="hover:text-primary transition-colors duration-200">About Us</a></li>
                        <li><a href="#" class="hover:text-primary transition-colors duration-200">FAQs</a></li>
                        <li><a href="#" class="hover:text-primary transition-colors duration-200">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3 class="text-lg font-semibold text-text-dark mb-5">Follow Us</h3>
                    <div class="flex space-x-4">
                        <a href="#" aria-label="Facebook" class="text-text-body hover:text-primary transition-colors duration-200 text-2xl"><i class="ri-facebook-circle-fill"></i></a>
                        <a href="#" aria-label="Instagram" class="text-text-body hover:text-primary transition-colors duration-200 text-2xl"><i class="ri-instagram-fill"></i></a>
                        <a href="#" aria-label="Twitter" class="text-text-body hover:text-primary transition-colors duration-200 text-2xl"><i class="ri-twitter-x-fill"></i></a>
                    </div>
                </div>
            </div>
             <div class="mt-16 border-t border-border-neutral pt-8 text-center text-xs text-text-body/80">
                 Â© <span id="currentYear"></span> Cravory. All Rights Reserved. Crafted with <i class="ri-heart-fill text-primary/80 text-sm"></i> for food lovers.
             </div>
        </div>
    </footer>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        let cart = JSON.parse(localStorage.getItem('cravoryCart')) || [];
        let currentModalItem = null;
        const DELIVERY_FEE = 4.99;
        const TAX_RATE = 0.09;

        // --- DOM Elements ---
        const foodGrid = document.getElementById('foodGrid');
        const searchInput = document.getElementById('searchInput');
        const mobileSearchInput = document.getElementById('mobileSearchInput');
        const regionSelect = document.getElementById('regionSelect');
        const cartPanel = document.getElementById('cartPanel');
        const cartItemsContainer = document.getElementById('cartItemsContainer');
        const cartItemCountElement = document.getElementById('cart-item-count');
        const cartCountBadge = document.getElementById('cart-count-badge');
        const mobileCartCountBadge = document.getElementById('mobile-cart-count-badge');
        const emptyCartMessage = document.getElementById('emptyCartMessage');
        const cartFooter = document.getElementById('cartFooter');
        const cartSubtotalElement = document.getElementById('cartSubtotal');
        const cartDeliveryElement = document.getElementById('cartDelivery');
        const cartTaxElement = document.getElementById('cartTax');
        const cartTotalElement = document.getElementById('cartTotal');
        const checkoutButtonWrapper = document.getElementById('checkoutButtonWrapper'); // Link wrapper
        const cartToggle = document.getElementById('cartToggle');
        const mobileCartToggle = document.getElementById('mobileCartToggle');
        const closeCart = document.getElementById('closeCart');
        const continueShopping = document.getElementById('continueShopping');
        const foodDetailModal = document.getElementById('foodDetailModal');
        const closeModal = document.getElementById('closeModal');
        const overlay = document.getElementById('overlay');
        const modalFoodName = document.getElementById('modalFoodName');
        const modalMainImage = document.getElementById('modalMainImage');
        const modalPrice = document.getElementById('modalPrice');
        const modalDescription = document.getElementById('modalDescription');
        const modalVendorName = document.getElementById('modalVendorName');
        const modalRating = document.getElementById('modalRating');
        const modalCountryFlag = document.getElementById('modalCountryFlag');
        const modalCountryName = document.getElementById('modalCountryName');
        const modalQuantityElement = document.getElementById('modalQuantity');
        const modalDecrementQty = document.getElementById('modalDecrementQty');
        const modalIncrementQty = document.getElementById('modalIncrementQty');
        const modalAddToCartBtn = document.getElementById('modalAddToCartBtn');
        const hamburger = document.querySelector('.hamburger');
        const mobileNavLinks = document.getElementById('mobileNavLinks');


        const formatPrice = (price) => `${parseFloat(price).toFixed(2)}php`;
        const generateStars = (rating) => {
            let starsHTML = ''; const r = parseFloat(rating); const full = Math.floor(r); const half = r % 1 >= 0.4;
            for(let i=0; i<full; i++) starsHTML += '<i class="ri-star-s-fill text-base"></i>';
            if (half) starsHTML += '<i class="ri-star-half-s-line text-base"></i>'; 
            for(let i=0; i < 5 - full - (half ? 1 : 0); i++) starsHTML += '<i class="ri-star-s-line text-base text-gray-300"></i>'; 
            return starsHTML;
        };

        function showToast(message, type = 'success') {
            const id = 'cravoryToast-' + Date.now(); 
            const existingToast = document.getElementById(id);
            if (existingToast) existingToast.remove();

            const toast = document.createElement('div');
            toast.id = id;
            const bgColor = type === 'success' ? 'bg-green-600' : 'bg-primary'; 
            const icon = type === 'success' ? 'ri-checkbox-circle-fill' : 'ri-error-warning-fill';
            toast.className = `fixed bottom-5 right-5 ${bgColor} text-white px-5 py-3 rounded-lg shadow-xl flex items-center space-x-3 transition-all duration-300 ease-out transform translate-y-full opacity-0 z-[2000]`;
            toast.innerHTML = `<i class="${icon} text-xl"></i><p class="text-sm font-medium">${message}</p><button onclick="document.getElementById('${id}').remove()" class="ml-auto hover:bg-white/20 p-1 rounded-full -mr-1"><i class="ri-close-line text-lg"></i></button>`;
            document.body.appendChild(toast);
            requestAnimationFrame(() => { toast.style.transform = 'translateY(0)'; toast.style.opacity = '1'; });
            setTimeout(() => {
                toast.style.transform = 'translateY(20px)'; toast.style.opacity = '0';
                setTimeout(() => toast.remove(), 300);
            }, 3500);
        }

        // --- Cart Logic ---
        function saveCart() { localStorage.setItem('cravoryCart', JSON.stringify(cart)); }
        function addToCart(itemToAdd, quantity = 1) {
            const price = parseFloat(itemToAdd.price); 
            if (isNaN(price)) {
                console.error("Invalid price for item:", itemToAdd);
                showToast("Error: Could not add item with invalid price.", "error");
                return;
            }
            const existingItemIndex = cart.findIndex(item => item.id === itemToAdd.id);
            if (existingItemIndex > -1) { cart[existingItemIndex].quantity += quantity; }
            else { cart.push({ ...itemToAdd, price: price, quantity: quantity }); } 
            saveCart(); updateCartUI(); showToast(`${itemToAdd.name} added to cart`);
        }
        function removeFromCart(itemId) { cart = cart.filter(item => item.id !== itemId); saveCart(); updateCartUI(); showToast(`Item removed`, 'error'); }
        function updateCartQuantity(itemId, newQuantity) {
           const itemIndex = cart.findIndex(item => item.id === itemId);
           if (itemIndex > -1) {
               if (newQuantity <= 0) { removeFromCart(itemId); }
               else {
                   cart[itemIndex].quantity = newQuantity; saveCart(); updateCartUI();
                   const quantityElement = document.querySelector(`#cartItem-${itemId} .cart-item-quantity`);
                   if(quantityElement) { quantityElement.classList.add('quantity-updated'); setTimeout(() => quantityElement.classList.remove('quantity-updated'), 300); }
               }
           }
        }

        function updateCartUI() {
            cartItemsContainer.innerHTML = '';
            const hasItems = cart.length > 0;
            emptyCartMessage.style.display = hasItems ? 'none' : 'flex';
            cartFooter.style.display = hasItems ? 'block' : 'none';

            if(hasItems) {
                cart.forEach(item => {
                    const itemEl = document.createElement('div');
                    itemEl.className = 'flex items-center border-b border-border-neutral pb-4 last:border-b-0 last:pb-0';
                    itemEl.id = `cartItem-${item.id}`;
                    const itemTotal = item.price * item.quantity;
                    itemEl.innerHTML = `
                        <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded-md flex-shrink-0 border border-border-neutral">
                        <div class="ml-3 flex-1 overflow-hidden">
                            <div class="flex justify-between items-start mb-1">
                                <h4 class="font-medium text-sm text-text-dark leading-tight truncate pr-2">${item.name}</h4>
                                <button class="text-text-body/70 hover:text-primary remove-from-cart-btn transition-colors pl-1 flex-shrink-0" data-id="${item.id}"><i class="ri-delete-bin-5-line text-lg"></i></button>
                            </div>
                            <p class="text-xs text-gray-500 mb-2 truncate">By ${item.vendor}</p>
                            <div class="flex justify-between items-center mt-1">
                                <div class="flex items-center border border-border-neutral rounded-md">
                                    <button class="px-2.5 py-1.5 text-text-body hover:text-primary cart-quantity-decrease transition-colors disabled:opacity-50 disabled:cursor-not-allowed" data-id="${item.id}" ${item.quantity <= 1 ? 'disabled' : ''}><i class="ri-subtract-line text-sm"></i></button>
                                    <span class="px-2.5 text-xs font-medium text-text-dark cart-item-quantity min-w-[20px] text-center">${item.quantity}</span>
                                    <button class="px-2 py-1.5 text-text-body hover:text-primary cart-quantity-increase transition-colors" data-id="${item.id}"><i class="ri-add-line text-sm"></i></button>
                                </div>
                                <span class="font-semibold text-sm text-text-dark ml-2">${formatPrice(itemTotal)}</span>
                            </div>
                        </div>`;
                    cartItemsContainer.appendChild(itemEl);
                });
            }

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const delivery = hasItems ? DELIVERY_FEE : 0;
            const tax = subtotal * TAX_RATE;
            const total = subtotal + delivery + tax;
            cartSubtotalElement.textContent = formatPrice(subtotal);
            cartDeliveryElement.textContent = formatPrice(delivery);
            cartTaxElement.textContent = formatPrice(tax);
            cartTotalElement.textContent = formatPrice(total);

            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartItemCountElement.textContent = totalItems;
            [cartCountBadge, mobileCartCountBadge].forEach(badge => {
                badge.textContent = totalItems;
                badge.classList.toggle('hidden', totalItems === 0);
                if(totalItems > 0) { badge.classList.add('count-updated'); setTimeout(() => badge.classList.remove('count-updated'), 300); }
            });

             if (checkoutButtonWrapper) {
                const isDisabled = cart.length === 0;
                checkoutButtonWrapper.classList.toggle('opacity-50', isDisabled);
                checkoutButtonWrapper.classList.toggle('pointer-events-none', isDisabled);
                checkoutButtonWrapper.setAttribute('aria-disabled', isDisabled);
                if(isDisabled) checkoutButtonWrapper.removeAttribute('href');
                else checkoutButtonWrapper.setAttribute('href', 'checkout.html');
            }
        }

        // --- Modal Logic ---
        function openFoodDetailModal(itemData) {
            currentModalItem = { ...itemData, price: parseFloat(itemData.price) };
            modalFoodName.textContent = itemData.name;
            modalMainImage.src = itemData.image;
            modalMainImage.alt = itemData.name;
            modalPrice.textContent = formatPrice(currentModalItem.price);
            modalDescription.textContent = itemData.description;
            modalVendorName.textContent = itemData.vendor;
            modalRating.innerHTML = generateStars(itemData.rating) + `<span class="text-text-body ml-2 text-xs">(${itemData.reviews || 0} reviews)</span>`;
            modalCountryName.textContent = itemData.country;
            modalCountryFlag.src = itemData.countryImg;
            modalCountryFlag.alt = itemData.country;
            modalQuantityElement.textContent = '1';
            modalDecrementQty.disabled = true;

            foodDetailModal.classList.remove('hidden', 'opacity-0');
            foodDetailModal.classList.add('flex');
            overlay.classList.remove('hidden');
            requestAnimationFrame(() => { foodDetailModal.classList.add('opacity-100'); overlay.classList.add('opacity-100'); });
            document.body.style.overflow = 'hidden';
        }

        function closeFoodDetailModal() {
            foodDetailModal.classList.remove('opacity-100');
            const isCartOpen = !cartPanel.classList.contains('translate-x-full');
            if (!isCartOpen) {
                 overlay.classList.remove('opacity-100');
                 setTimeout(() => {
                     overlay.classList.add('hidden');
                     if (cartPanel.classList.contains('translate-x-full')) {
                         document.body.style.overflow = '';
                     }
                 }, 300);
            }
            setTimeout(() => { foodDetailModal.classList.add('hidden'); foodDetailModal.classList.remove('flex'); }, 300);
            currentModalItem = null;
        }


        function updateModalQuantity(change) {
           let qty = parseInt(modalQuantityElement.textContent) + change;
           qty = Math.max(1, qty);
           modalQuantityElement.textContent = qty;
           modalDecrementQty.disabled = qty <= 1;
        }

        function filterAndSearchItems() {
            const searchTerm = (searchInput.value || mobileSearchInput.value).toLowerCase().trim();
            const activeCategory = regionSelect.querySelector('.regionvalue.active')?.dataset.value || 'all';
            foodGrid.querySelectorAll('.food-item').forEach(item => {
                const name = item.dataset.name?.toLowerCase() || '';
                const cats = (item.dataset.category?.toLowerCase() || '').split(' ');
                const catMatch = activeCategory === 'all' || cats.includes(activeCategory);
                const searchMatch = !searchTerm || name.includes(searchTerm) || (item.dataset.description?.toLowerCase() || '').includes(searchTerm) || (item.dataset.vendor?.toLowerCase() || '').includes(searchTerm);
                item.style.display = catMatch && searchMatch ? '' : 'none';
            });
        }


        function toggleCartPanel() {
            const isClosed = cartPanel.classList.contains('translate-x-full');
            cartPanel.classList.toggle('translate-x-full', !isClosed);
            cartPanel.classList.toggle('translate-x-0', isClosed);
            overlay.classList.toggle('hidden', !isClosed);
             requestAnimationFrame(() => {
                overlay.classList.toggle('opacity-100', isClosed);
             });
             if(isClosed) {
                 if(!foodDetailModal.classList.contains('flex')) {
                     document.body.style.overflow = 'hidden';
                 }
            } else {
                 if (!foodDetailModal.classList.contains('flex')) {
                      document.body.style.overflow = '';
                 }
             }
        }


        cartToggle.addEventListener('click', toggleCartPanel);
        mobileCartToggle.addEventListener('click', toggleCartPanel);
        closeCart.addEventListener('click', toggleCartPanel);
        continueShopping.addEventListener('click', toggleCartPanel);
        closeModal.addEventListener('click', closeFoodDetailModal);
        overlay.addEventListener('click', () => {
            
             if (!cartPanel.classList.contains('translate-x-full')) {
                 toggleCartPanel();
             }
           
             if (foodDetailModal.classList.contains('flex')) {
                 closeFoodDetailModal();
             }
        });


        foodGrid.addEventListener('click', (e) => {
            const foodItemElement = e.target.closest('.food-item'); if (!foodItemElement) return;
            if (e.target.closest('.add-to-cart-btn')) {
                 e.stopPropagation(); addToCart({...foodItemElement.dataset});
            } else { openFoodDetailModal({...foodItemElement.dataset}); }
        });

        cartItemsContainer.addEventListener('click', (e) => {
            const btn = e.target.closest('button'); if (!btn) return; const id = btn.dataset.id;
            if (btn.classList.contains('remove-from-cart-btn')) removeFromCart(id);
            else if (btn.classList.contains('cart-quantity-increase')) updateCartQuantity(id, (cart.find(i=>i.id===id)?.quantity || 0) + 1);
            else if (btn.classList.contains('cart-quantity-decrease')) updateCartQuantity(id, (cart.find(i=>i.id===id)?.quantity || 0) - 1);
        });

        modalIncrementQty.addEventListener('click', () => updateModalQuantity(1));
        modalDecrementQty.addEventListener('click', () => updateModalQuantity(-1));
        modalAddToCartBtn.addEventListener('click', () => { if (currentModalItem) { addToCart(currentModalItem, parseInt(modalQuantityElement.textContent)); closeFoodDetailModal(); }});

        searchInput.addEventListener('input', filterAndSearchItems);
        mobileSearchInput.addEventListener('input', filterAndSearchItems);
        regionSelect.addEventListener('click', (e) => {
            if (e.target.classList.contains('regionvalue') && !e.target.classList.contains('active')) {
                regionSelect.querySelectorAll('.regionvalue.active').forEach(el => el.classList.remove('active', 'bg-primary', 'text-white', 'border-primary'));
                e.target.classList.add('active', 'bg-primary', 'text-white', 'border-primary'); filterAndSearchItems();
            }
        });

        if (hamburger && mobileNavLinks) {
            hamburger.addEventListener('click', (e) => {
                e.stopPropagation(); const isOpen = mobileNavLinks.classList.contains('max-h-screen');
                mobileNavLinks.classList.toggle('max-h-0', isOpen); mobileNavLinks.classList.toggle('max-h-screen', !isOpen);
                mobileNavLinks.classList.toggle('py-3', !isOpen); hamburger.classList.toggle('active');
                 // Manage body scroll only based on mobile menu state
                document.body.style.overflow = !isOpen ? 'hidden' : '';
            });
            mobileNavLinks.addEventListener('click', (e) => {
                if (e.target.tagName === 'A' && mobileNavLinks.classList.contains('max-h-screen')) {
                    mobileNavLinks.classList.remove('max-h-screen', 'py-3'); mobileNavLinks.classList.add('max-h-0');
                    hamburger.classList.remove('active'); document.body.style.overflow = '';
                }
            });
             // Close mobile menu if clicking outside
             document.addEventListener('click', (e) => {
                 if (mobileNavLinks && hamburger && !hamburger.contains(e.target) && !mobileNavLinks.contains(e.target) && mobileNavLinks.classList.contains('max-h-screen')) {
                    mobileNavLinks.classList.remove('max-h-screen', 'py-3'); mobileNavLinks.classList.add('max-h-0');
                    hamburger.classList.remove('active'); document.body.style.overflow = '';
                 }
             });
        }


        document.getElementById('currentYear').textContent = new Date().getFullYear();
        updateCartUI(); filterAndSearchItems();

        if (checkoutButtonWrapper) {
            checkoutButtonWrapper.addEventListener('click', function(event) {
                if (cart.length === 0) { event.preventDefault(); showToast("Your cart is empty!", "error"); }
            });
        }
      });
    </script>

</body>
</html>
